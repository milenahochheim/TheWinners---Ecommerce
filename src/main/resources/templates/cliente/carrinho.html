<html xmlns:th="http://www.thymeleaf.org"></html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <link href="../../../../static/css/main.css" rel="stylesheet" />
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <script src="https://unpkg.com/phosphor-icons"></script>
  <script type="text/javascript" th:src="@{/js/CustomerForms.js}"></script>

  <title>Winners Collection</title>
</head>

<body class="bg-gray-50">
  <!-- MENU PRINCIPAL -->
  <nav
    class="bg-purple-900 p-8 fixed w-full z-20 top-0 left-0 border-b border-gray-200"
  >
    <div class="container flex flex-wrap items-center justify-between mx-auto">
      <a th:href="@{/}" class="flex items-center">
        <span
          class="self-center text-3xl font-semibold whitespace-nowrap text-white title"
          >Winners Collection</span
        >
      </a>
      <div class="flex md:order-2">
        <a th:href="@{/carrinho}">
          <button
            type="button"
            class="text-purple-900 bg-white hover:bg-gray-300 font-medium rounded-full text-sm px-3 py-2.5 text-center mr-3 md:mr-5"
          >
            <i class="ph-light ph-shopping-cart-simple"></i>
          </button>
        </a>

        <a th:href="@{/login}">
          <button
            type="button"
            class="text-purple-900 bg-white hover:bg-gray-300 font-medium rounded-full text-sm px-3 py-2.5 text-center mr-3 md:mr-5"
          >
            <i class="ph-fill ph-user"></i>
          </button>
        </a>
        <button
          data-collapse-toggle="navbar-sticky"
          type="button"
          class="inline-flex items-center p-2 text-sm text-white rounded-lg md:hidden hover:bg-gray-100"
          aria-controls="navbar-sticky"
          aria-expanded="false"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-6 h-6"
            aria-hidden="true"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>
      <div
        class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
        id="navbar-sticky"
      >
        <ul
          class="flex flex-col p-4 mt-4 border border-gray-200 rounded-lg md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0"
        >
          <li>
            <a
              th:href="@{/home}"
              class="block py-2 pl-3 pr-4 text-lg text-white rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-300 md:p-0 aria-current="
              >Home</a
            >
          </li>
          <li>
            <a
              href="./ActionFigures"
              class="block py-2 pl-3 pr-4 text-lg text-white rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-300 md:p-0"
              >Action Figures</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block py-2 pl-3 pr-4 text-lg text-white rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-300 md:p-0"
              >Pop Funko</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block py-2 pl-3 pr-4 text-lg text-white rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-gray-300 md:p-0"
              >Winners</a
            >
          </li>
          <li>
            <a
              href="#"
              class="block py-2 pl-3 pr-4 text-lg text-white rounded hover:bg-gray-100 md:hover:bg-transparent hover:text-gray-300 md:p-0"
              >Contato</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="h-screen bg-gray-100 pt-40">
    <h1 class="mb-5 text-center text-3xl font-semibold text-purple-400">
      Itens da sua compra
    </h1>
    <div
      class="mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0"
    >
      <div class="rounded-lg md:w-4/5">
        <div
          class="justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start"
        >
          <!-- <div class="sm:ml-4 sm:flex sm:w-full sm:justify-between">
                            <div class="mt-5 sm:mt-0">
                                <h2 class="text-lg font-medium text-gray-900">
                                    LEVI - THE FINAL SEASON - ATTACK ON TITAN - BANDAI / BANPRESTO
                                </h2>
                                <p class="mt-1 pr-2 text-xs text-gray-700">
                                    Estátua do personagem Levi da série de anime Attack on Titan
                                    Figura: Attack on Titan The Final Season Levi Fabricante:
                                    Bandai/Banpresto Material: PVC Altura aproximada: 16 cm
                                </p>
                            </div>

                            <div class="mt-6 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6">
                                <div class="text-xl">
                                    <p class="ml-6">R$ <span>259</span></p>
                                </div>
                                <input type="number" id="quantity" name="quantity" min="1" max="5"
                                    class="shadow-sm bg-gray-50 border border-purple-900 text-gray-900 text-sm rounded-lg inline-block w-48 p-2.5 focus:outline-none"
                                    placeholder="">
                            </div>
                        </div> -->
          <table class="">
            <thead class="text-lg text-gray-400 uppercase text-center">
              <tr>
                <th scope="col" class="px-6 py-3 text-sm"></th>
                <th scope="col" class="px-6 py-3 text-sm">Produto</th>
                <th scope="col" class="px-6 py-3 text-sm">Quantidade</th>
                <th scope="col" class="px-6 py-3 text-sm">Preço</th>
                <th scope="col" class="px-6 py-3 text-sm"></th>
              </tr>
            </thead>

            <tbody>
              <tr th:each="item : ${listaItens}">
                <td>
                  <img
                    class="ml-4"
                    th:src="@{/mostrarImagem/{imagem}(imagem=${item.produto.nomeImagem})}"
                    width="100"
                  />
                </td>
                <td
                  class="text-left mr-4 text-xs"
                  th:text="${item.produto.nome}"
                ></td>

                <td class="text-md text-center">
                  <a
                    class="text-white bg-purple-300 hover:bg-purple-500 font-bold rounded-full text-sm px-1 py-0.5 text-center"
                    th:href="@{/alterarQuantidade/{id}/{acao}(id=${item.produto.id},acao=${0})}"
                    role="button"
                    ><i class="ph-bold ph-minus"></i
                  ></a>

                  <span th:text="${item.quantidade}"></span>

                  <a
                    class="text-white bg-purple-300 hover:bg-purple-500 font-bold rounded-full text-sm px-1 py-0.5 text-center"
                    th:href="@{/alterarQuantidade/{id}/{acao}(id=${item.produto.id},acao=${1})}"
                    role="button"
                    ><i class="ph-bold ph-plus"></i
                  ></a>
                </td>
                <td class="text-md text-center">
                  R$ <span th:text="${item.valorUnitario}"></span>
                </td>
                <td>
                  <div class="flex flex-row items-center">
                    <a
                      th:href="@{/removerProduto/{id}(id=${item.produto.id})}"
                      class="bg-purple-300 hover:bg-purple-500 rounded-lg px-3 py-2 text-center mr-2 text-white ml-5"
                    >
                      <i class="ph-light ph-trash"></i>
                    </a>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div
          class="justify-between mb-6 mt-10 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start"
        >
          <div class="sm:ml-4 sm:flex sm:w-full sm:justify-between">
            <div class="mt-5 sm:mt-0">
              <form method="get" action=".">
                <h2 class="text-lg font-semibold text-gray-900">Frete</h2>
                <p class="mt-1 pr-2 mb-4 text-sm text-gray-700">Digite o CEP</p>
                <div class="mb-6">
                  <input
                    type="text"
                    id="cep"
                    name="cep"
                    value=""
                    size="10"
                    maxlength="9"
                    onblur="pesquisacep(this.value);"
                    class="shadow-sm bg-gray-50 border border-purple-900 text-gray-900 text-sm rounded-lg inline-block w-80 md:w-48 p-2.5 focus:outline-none"
                    placeholder=""
                    required
                  />
                  <button
                    onclick="showOptions()"
                    id="myButton"
                    class="text-white bg-purple-800 hover:bg-purple-700 font-medium rounded-lg text-sm inline-block w-80 md:w-40 p-2.5 text-center mr-4 mt-4 md:mt-0"
                  >
                    Buscar
                  </button>
                </div>
                <div class="options">
                  <label>
                    <input type="radio" name="option" value="opcao1" />
                    Motoboy (3 dias úteis):
                    <span class="font-semibold">R$ </span
                    ><span id="randomNumber" class="font-semibold"></span>
                  </label>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Sub total -->
      <div
        class="mt-6 h-full rounded-lg border bg-white p-6 shadow-md md:mt-0 md:w-1/3"
      >
        <div class="mb-2 flex justify-between">
          <p class="text-gray-700">Itens</p>
          <p class="text-gray-700">
            R$ <span th:text="${compra.valorTotal}"></span>
          </p>
        </div>
        <div class="flex justify-between">
          <p class="text-gray-700">Frete</p>
          <p class="text-gray-700">
            R$ <span th:text="${compra.frete}"></span>
          </p>
        </div>
        <hr class="my-4" />
        <div class="flex justify-between">
          <p class="text-lg font-semibold">Total</p>
          <div class="">
            <p class="mb-8 text-lg font-semibold">
              R$ <span th:text="${compra.valorTotal}"></span>
            </p>
          </div>
        </div>
        <a
          th:href="finalizar"
          type="submit"
          class="mb-4 w-full rounded-md bg-purple-400 hover:bg-purple-600 py-1.5 px-28 font-medium text-white"
        >
          Pagar
        </a>
        <a
          th:href="@{/}"
          class="mt-4 w-full text-sm font-medium rounded-md bg-gray-300 hover:bg-gray-400 px-4 py-1 text-gray-700 text-center ml-10"
        >
          Continuar comprando
        </a>
      </div>
    </div>
  </div>
</body>

<script>
  // Funções plus e minus p/ quantidade de produtos
  function plus() {
    var preValue = document.getElementById("counter").value;
    document.getElementById("counter").value = parseInt(preValue) + 1;
  }

  function minus() {
    var preValue = document.getElementById("counter").value;
    if (parseInt(preValue) != 0) {
      document.getElementById("counter").value = parseInt(preValue) - 1;
    }
  }

  function myFunction(imgs) {
    // Get the expanded image
    var expandImg = document.getElementById("expandedImg");

    expandImg.src = imgs.src;

    // Show the container element (hidden with CSS)
    expandImg.parentElement.style.display = "inline-grid";
  }

  //FRETE
  let randomNumber;

  function showOptions() {
    let optionsDiv = document.querySelector(".options");
    optionsDiv.style.display = "block";

    document.getElementById("myButton").disabled = true;

    let randomNumber = Math.floor(Math.random() * 20) + 10;
    document.getElementById("randomNumber").innerHTML = randomNumber;
  }
</script>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
  @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap");

  .ph-user {
    font-size: 25px;
  }

  .ph-shopping-cart-simple {
    font-size: 25px;
  }

  .ph-trash {
    font-size: 20px;
  }

  .ph-plus {
    font-size: 12px;
  }

  .ph-minus {
    font-size: 12px;
  }

  nav {
    font-family: "Raleway", sans-serif;
  }

  body {
    font-family: "Poppins", sans-serif;
  }

  img {
    max-width: 100px;
    max-height: 100px;
    width: auto;
    height: auto;
    margin: auto;
  }

  @layer utilities {
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
  }

  .options {
    display: none;
  }
</style>
